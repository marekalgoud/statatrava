@if(activities(); as activities) {
  @if(stats.hasError()) {
    <p>Une erreur est survenue</p>
  }
  @else {
    <div class="flex flex-col gap-7">
      <div>
        <h2
          class="text-2xl font-bold mb-3 text-slate-900 dark:text-slate-200 flex items-center gap-2"
        >
          <svg viewBox="0 0 24 24" class="w-[20px] h-[20px]">
            <path
              fill="currentColor"
              d="M23 11h-2.152a.505.505 0 0 1-.429-.242l-1.406-2.336a5.023 5.023 0 0 0-4.283-2.421h-3.802c-.954 0-1.811.53-2.236 1.382l-1.585 3.171a1 1 0 0 0 1.789.895l1.585-3.171a.497.497 0 0 1 .447-.276h1.602l-1.753 4.273a2.994 2.994 0 0 0 1.167 3.67l3.827 2.456a.495.495 0 0 1 .229.42v4.18a1 1 0 1 0 2 0v-4.18a2.49 2.49 0 0 0-1.15-2.104l-2.23-1.431 2.469-6.096c.069.09.152.167.211.264l1.406 2.337a2.512 2.512 0 0 0 2.142 1.21H23a1 1 0 1 0 0-2Zm-8.5-8.5a2.5 2.5 0 1 1 5 0 2.5 2.5 0 0 1-5 0ZM2 3a1 1 0 0 1 1-1h7a1 1 0 0 1 0 2H3a1 1 0 0 1-1-1Zm2 9H1a1 1 0 0 1 0-2h3a1 1 0 0 1 0 2ZM1 7a1 1 0 0 1 1-1h4a1 1 0 0 1 0 2H2a1 1 0 0 1-1-1Zm10.395 11.447C11.106 19.024 10.278 20 9 20H5a1 1 0 0 1 0-2h4c.354 0 .609-.455.612-.459.259-.481.86-.671 1.345-.421a.994.994 0 0 1 .438 1.328Z"
            />
          </svg>
          Courses à pieds
        </h2>
        <div class="-mr-4">
          <swiper-container space-between="30" slides-per-view="auto">
            @for (day of firstDayOfYear(); track day) {
            <swiper-slide>
              <app-year-stats
                [day]="day"
                [activities]="activities"
                [types]="['Run', 'TrailRun']"
              ></app-year-stats>
            </swiper-slide>
            }
          </swiper-container>
        </div>
      </div>

      <div>
        <h2
          class="text-2xl font-bold mb-3 text-slate-900 dark:text-slate-200 flex items-center gap-2"
        >
          <svg viewBox="0 0 24 24" class="w-[20px] h-[20px]">
            <path
              fill="currentColor"
              d="M5 23a5 5 0 1 1 5-5 5.006 5.006 0 0 1-5 5Zm14 0a5 5 0 1 1 5-5 5.006 5.006 0 0 1-5 5Zm-6-5v-4a1 1 0 0 0-.348-.758l-2.287-1.965a.986.986 0 0 1-.348-.744.967.967 0 0 1 .273-.708l1.964-1.563a1.008 1.008 0 0 1 1.418.067l2.6 2.4a1 1 0 0 0 .679.266H20a1 1 0 0 0 0-2h-2.66l-2.277-2.102a2.973 2.973 0 0 0-4.105-.153L8.994 8.3a3 3 0 0 0 .068 4.491L11 14.459V18a1 1 0 0 0 2 0Zm3.5-17A2.5 2.5 0 1 0 19 3.5 2.5 2.5 0 0 0 16.5 1Z"
            />
          </svg>
          Vélo
        </h2>
        <div class="-mr-4">
          <swiper-container space-between="30" slides-per-view="auto">
            @for (day of firstDayOfYear(); track day) {
            <swiper-slide>
              <app-year-stats
                [day]="day"
                [activities]="activities"
                [types]="['Ride', 'GravelRide', 'MountainBikeRide']"
              ></app-year-stats>
            </swiper-slide>
            }
          </swiper-container>
        </div>
      </div>

      <div>
        <h2
          class="text-2xl font-bold mb-3 text-slate-900 dark:text-slate-200 flex items-center gap-2"
        >
          <svg viewBox="0 0 24 24" class="w-[20px] h-[20px]">
            <path
              fill="currentColor"
              d="M23.432 12.565c-.081-.1-.8-1.013-1.259-1.468a3.323 3.323 0 0 0-1.367-.8 3.129 3.129 0 0 0-.723-3.287l-.01-.01-.01-.01a3.158 3.158 0 0 0-2.14-.912 3.171 3.171 0 0 0-4.238-2.9 3.172 3.172 0 0 0-.785-1.351c-.452-.455-1.363-1.178-1.465-1.259l-.7-.551-.629.629C5.758 5 4.144 9.9 3.076 14.56L1.333 16.3A4.5 4.5 0 0 0 7.7 22.667l1.74-1.742c4.665-1.069 9.566-2.683 13.914-7.032l.629-.63Zm-6.439-4.144a1.213 1.213 0 0 1 1.666-.009 1.182 1.182 0 0 1-.01 1.665 43.486 43.486 0 0 1-5.744 4.413l-.991-.991 5.079-5.079ZM13.9 5.331A1.185 1.185 0 0 1 15.582 7L10.5 12.086l-1.01-1.011a43.493 43.493 0 0 1 4.41-5.744Zm-3-2.619c.227.191.451.388.592.529a1.265 1.265 0 0 1 .01 1.744l.006.006a52.45 52.45 0 0 0-3.461 4.642l-1-1A21.471 21.471 0 0 1 10.9 2.712ZM6.283 21.253a2.561 2.561 0 0 1-3.536 0 2.5 2.5 0 0 1 0-3.536l1.278-1.278 3.536 3.536ZM9.311 18.9 5.1 14.689a39.389 39.389 0 0 1 1.145-4.027l7.09 7.09A39.389 39.389 0 0 1 9.311 18.9Zm6.054-1.946-1.017-1.017a52.214 52.214 0 0 0 4.705-3.511 1.084 1.084 0 0 1 .807-.293 1.339 1.339 0 0 1 .9.381c.141.142.338.366.529.593a21.471 21.471 0 0 1-5.924 3.844Z"
            />
          </svg>
          Badminton
        </h2>
        <div class="-mr-4">
          <swiper-container space-between="30" slides-per-view="auto">
            @for (day of firstDayOfYear(); track day) {
            <swiper-slide>
              <app-year-stats
                [day]="day"
                [activities]="activities"
                [types]="['Badminton']"
              ></app-year-stats>
            </swiper-slide>
            }
          </swiper-container>
        </div>
      </div>

      <div>
        <h2
          class="text-2xl font-bold mb-3 text-slate-900 dark:text-slate-200 flex items-center gap-2"
        >
          <svg viewBox="0 0 24 24" class="w-[20px] h-[20px]">
            <path
              fill="currentColor"
              d="M17 5.5A2.5 2.5 0 1 1 19.5 8 2.5 2.5 0 0 1 17 5.5Zm5.332 14.99A1.991 1.991 0 0 1 21 21a2.253 2.253 0 0 1-2.058-1.333 1 1 0 0 0-1.884 0 2.255 2.255 0 0 1-4.116 0 1 1 0 0 0-1.884 0 2.255 2.255 0 0 1-4.116 0 1 1 0 0 0-1.884 0A2.253 2.253 0 0 1 3 21a1.991 1.991 0 0 1-1.332-.51 1 1 0 1 0-1.336 1.487A3.981 3.981 0 0 0 3 23a4.375 4.375 0 0 0 3-1.225 4.286 4.286 0 0 0 6 0 4.286 4.286 0 0 0 6 0A4.375 4.375 0 0 0 21 23a3.981 3.981 0 0 0 2.668-1.023 1 1 0 1 0-1.336-1.487Zm-22-3.513A3.981 3.981 0 0 0 3 18a4.375 4.375 0 0 0 3-1.225 4.286 4.286 0 0 0 6 0 4.286 4.286 0 0 0 6 0A4.375 4.375 0 0 0 21 18a3.981 3.981 0 0 0 2.668-1.023 1 1 0 1 0-1.336-1.487A1.991 1.991 0 0 1 21 16a2.253 2.253 0 0 1-2.058-1.333 1 1 0 0 0-1.884 0 2.255 2.255 0 0 1-4.116 0 1 1 0 0 0-1.884 0 2.255 2.255 0 0 1-4.116 0 1 1 0 0 0-1.884 0A2.253 2.253 0 0 1 3 16a1.991 1.991 0 0 1-1.332-.51 1 1 0 1 0-1.336 1.487Zm2.675-3.031a.465.465 0 0 0 .2-.087 3 3 0 0 1 5.594 0 .359.359 0 0 0 .406 0 3 3 0 0 1 5.594 0 .359.359 0 0 0 .406 0A3 3 0 0 1 18 11.942c.059 0 .118 0 .177.006l-6.162-8.86A4.949 4.949 0 0 0 7.909 1H3a.952.952 0 0 0-1 .942 1 1 0 0 0 1 1h4.909a3 3 0 0 1 2.463 1.287l.746.961L0 13.35a3 3 0 0 1 3.007.596Z"
            />
          </svg>
          Natation
        </h2>
        <div class="-mr-4">
          <swiper-container space-between="30" slides-per-view="auto">
            @for (day of firstDayOfYear(); track day) {
            <swiper-slide>
              <app-year-stats
                [day]="day"
                [activities]="activities"
                [types]="['Swim']"
              ></app-year-stats>
            </swiper-slide>
            }
          </swiper-container>
        </div>
      </div>

      <div>
        <h2
          class="text-2xl font-bold mb-3 text-slate-900 dark:text-slate-200 flex items-center gap-2"
        >
          <svg viewBox="0 0 24 24" class="w-[20px] h-[20px]">
            <path
              fill="currentColor"
              d="M0 1.226s3.666-2.53 7.672-.321a3.494 3.494 0 0 1 1.625 4.22c.171.454.305.923.403 1.388.399-.424.865-.81 1.399-1.136a2.81 2.81 0 0 1 1.344-3.153C15.604.456 19 2.5 19 2.5c-.742 1.863-2.052 3.659-3.808 4.641a2.808 2.808 0 0 1-2.939-.13C10.702 7.89 10 9.503 10 10H8c0-1.581-.162-2.73-.399-3.592C7.295 5.577 6.416 4.312 6.4 4.3l.007-.009C4.738 2.281 2.5 2 2.5 2c2.179 2.49 3 3.5 3.471 5.484a3.568 3.568 0 0 1-1.784-.433C1.961 5.824 1 3 0 1.226Zm23.235 11.79L13.448 24H3c-1.654 0-3-1.346-3-3v-7c0-1.654 1.346-3 3-3h9.857a3.14 3.14 0 0 1 2.689 1.519l3.217-3.534a2.983 2.983 0 0 1 2.085-.981 2.974 2.974 0 0 1 2.169.782 3.021 3.021 0 0 1 .218 4.23Zm-1.565-2.752a1.02 1.02 0 0 0-.728-.262.998.998 0 0 0-.699.329l-4.427 4.864a3.162 3.162 0 0 1-2.514 2.059l-5.161.737-.283-1.98 5.161-.737c.56-.079.98-.565.98-1.13 0-.63-.513-1.143-1.143-1.143H3a1 1 0 0 0-1 1v7a1 1 0 0 0 1 1h9.552l9.19-10.316a1.015 1.015 0 0 0-.072-1.421Z"
            />
          </svg>
          Transport
        </h2>
        <div class="-mr-4">
          <swiper-container space-between="30" slides-per-view="auto">
            @for (day of firstDayOfYear(); track day) {
            <swiper-slide>
              <app-year-stats
                [day]="day"
                [activities]="activities"
                commute
              ></app-year-stats>
            </swiper-slide>
            }
          </swiper-container>
        </div>
      </div>
    </div>
  }
} @else {
<app-loading></app-loading>
}
